!function(e){var n={};function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(a,r,function(n){return e[n]}.bind(null,r));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=16)}([function(e,n,t){"undefined"!=typeof self&&self,e.exports=(()=>{"use strict";var e={407:(e,n,t)=>{t.d(n,{default:()=>x});var a=/([:*])(\w+)/g,r=/\*/g,o=/\/\?/g;function i(e){return void 0===e&&(e="/"),_()?location.pathname+location.search+location.hash:e}function s(e){return e.replace(/\/+$/,"").replace(/^\/+/,"")}function c(e){return"string"==typeof e}function l(e){return e&&e.indexOf("#")>=0&&e.split("#").pop()||""}function p(e){var n=s(e).split(/\?(.*)?$/);return[s(n[0]),n.slice(1).join("")]}function u(e){for(var n={},t=e.split("&"),a=0;a<t.length;a++){var r=t[a].split("=");if(""!==r[0]){var o=decodeURIComponent(r[0]);n[o]?(Array.isArray(n[o])||(n[o]=[n[o]]),n[o].push(decodeURIComponent(r[1]||""))):n[o]=decodeURIComponent(r[1]||"")}}return n}function d(e,n){var t,i=p(s(e.currentLocationPath)),d=i[0],f=i[1],h=""===f?null:u(f),_=[];if(c(n.path)){if(t="(?:/^|^)"+s(n.path).replace(a,(function(e,n,t){return _.push(t),"([^/]+)"})).replace(r,"?(?:.*)").replace(o,"/?([^/]+|)")+"$",""===s(n.path)&&""===s(d))return{url:d,queryString:f,hashString:l(e.to),route:n,data:null,params:h}}else t=n.path;var v=new RegExp(t,""),m=d.match(v);if(m){var g=c(n.path)?function(e,n){return 0===n.length?null:e?e.slice(1,e.length).reduce((function(e,t,a){return null===e&&(e={}),e[n[a]]=decodeURIComponent(t),e}),null):null}(m,_):m.groups?m.groups:m.slice(1);return{url:s(d.replace(new RegExp("^"+e.instance.root),"")),queryString:f,hashString:l(e.to),route:n,data:g,params:h}}return!1}function f(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function h(e,n){return void 0===e[n]||!0===e[n]}function _(){return"undefined"!=typeof window}function v(e,n){return void 0===e&&(e=[]),void 0===n&&(n={}),e.filter((function(e){return e})).forEach((function(e){["before","after","already","leave"].forEach((function(t){e[t]&&(n[t]||(n[t]=[]),n[t].push(e[t]))}))})),n}function m(e,n,t){var a=n||{},r=0;!function n(){e[r]?Array.isArray(e[r])?(e.splice.apply(e,[r,1].concat(e[r][0](a)?e[r][1]:e[r][2])),n()):e[r](a,(function(e){void 0===e||!0===e?(r+=1,n()):t&&t(a)})):t&&t(a)}()}function g(e,n){void 0===e.currentLocationPath&&(e.currentLocationPath=e.to=i(e.instance.root)),e.currentLocationPath=e.instance._checkForAHash(e.currentLocationPath),n()}function y(e,n){for(var t=0;t<e.instance.routes.length;t++){var a=d(e,e.instance.routes[t]);if(a&&(e.matches||(e.matches=[]),e.matches.push(a),"ONE"===e.resolveOptions.strategy))return void n()}n()}function b(e,n){e.navigateOptions&&(void 0!==e.navigateOptions.shouldResolve&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),void 0!==e.navigateOptions.silent&&console.warn('"silent" is deprecated. Please check the documentation.')),n()}function w(e,n){!0===e.navigateOptions.force?(e.instance._setCurrent([e.instance._pathToMatchObject(e.to)]),n(!1)):n()}m.if=function(e,n,t){return Array.isArray(n)||(n=[n]),Array.isArray(t)||(t=[t]),[e,n,t]};var L=_(),T=f();function S(e,n){if(h(e.navigateOptions,"updateBrowserURL")){var t=("/"+e.to).replace(/\/\//g,"/"),a=L&&e.resolveOptions&&!0===e.resolveOptions.hash;T?(history[e.navigateOptions.historyAPIMethod||"pushState"](e.navigateOptions.stateObj||{},e.navigateOptions.title||"",a?"#"+t:t),location&&location.hash&&(e.instance.__freezeListening=!0,setTimeout((function(){var n=location.hash;location.hash="",location.hash=n,e.instance.__freezeListening=!1}),1))):L&&(window.location.href=e.to)}n()}function E(e,n){var t=e.instance;t.lastResolved()?m(t.lastResolved().map((function(n){return function(t,a){if(n.route.hooks&&n.route.hooks.leave){var r,o=e.instance.matchLocation(n.route.path,e.currentLocationPath,!1);r="*"!==n.route.path?!o:!(e.matches&&e.matches.find((function(e){return n.route.path===e.route.path}))),h(e.navigateOptions,"callHooks")&&r?m(n.route.hooks.leave.map((function(n){return function(t,a){return n((function(n){!1===n?e.instance.__dirty=!1:a()}),e.matches&&e.matches.length>0?1===e.matches.length?e.matches[0]:e.matches:void 0)}})).concat([function(){return a()}])):a()}else a()}})),{},(function(){return n()})):n()}function H(e,n){h(e.navigateOptions,"updateState")&&e.instance._setCurrent(e.matches),n()}var M=[function(e,n){var t=e.instance.lastResolved();if(t&&t[0]&&t[0].route===e.match.route&&t[0].url===e.match.url&&t[0].queryString===e.match.queryString)return t.forEach((function(n){n.route.hooks&&n.route.hooks.already&&h(e.navigateOptions,"callHooks")&&n.route.hooks.already.forEach((function(n){return n(e.match)}))})),void n(!1);n()},function(e,n){e.match.route.hooks&&e.match.route.hooks.before&&h(e.navigateOptions,"callHooks")?m(e.match.route.hooks.before.map((function(n){return function(t,a){return n((function(n){!1===n?e.instance.__dirty=!1:a()}),e.match)}})).concat([function(){return n()}])):n()},function(e,n){h(e.navigateOptions,"callHandler")&&e.match.route.handler(e.match),e.instance.updatePageLinks(),n()},function(e,n){e.match.route.hooks&&e.match.route.hooks.after&&h(e.navigateOptions,"callHooks")&&e.match.route.hooks.after.forEach((function(n){return n(e.match)})),n()}],k=[E,function(e,n){var t=e.instance._notFoundRoute;if(t){e.notFoundHandled=!0;var a=p(e.currentLocationPath),r=a[0],o=a[1],i=l(e.to);t.path=s(r);var c={url:t.path,queryString:o,hashString:i,data:null,route:t,params:""!==o?u(o):null};e.matches=[c],e.match=c}n()},m.if((function(e){return e.notFoundHandled}),M.concat([H]),[function(e,n){e.resolveOptions&&!1!==e.resolveOptions.noMatchWarning&&void 0!==e.resolveOptions.noMatchWarning||console.warn('Navigo: "'+e.currentLocationPath+"\" didn't match any of the registered routes."),n()},function(e,n){e.instance._setCurrent(null),n()}])];function F(){return(F=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function O(e,n){var t=0;E(e,(function a(){t!==e.matches.length?m(M,F({},e,{match:e.matches[t]}),(function(){t+=1,a()})):H(e,n)}))}function C(e){e.instance.__dirty=!1,e.instance.__waiting.length>0&&e.instance.__waiting.shift()()}function A(){return(A=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function x(e,n){var t,a=n||{strategy:"ONE",hash:!1,noMatchWarning:!1},r=this,o="/",h=null,L=[],T=!1,E=f(),H=_();function M(e){return e.indexOf("#")>=0&&(e=!0===a.hash?e.split("#")[1]||"/":e.split("#")[0]),e}function F(e){return s(o+"/"+s(e))}function x(e,n,t,a){return e=c(e)?F(e):e,{name:a||s(String(e)),path:e,handler:n,hooks:v(t)}}function P(e,n){if(!r.__dirty){r.__dirty=!0,e=e?s(o)+"/"+s(e):void 0;var t={instance:r,to:e,currentLocationPath:e,navigateOptions:{},resolveOptions:A({},a,n)};return m([g,y,m.if((function(e){var n=e.matches;return n&&n.length>0}),O,k)],t,C),!!t.matches&&t.matches}r.__waiting.push((function(){return r.resolve(e,n)}))}function U(e,n){if(r.__dirty)r.__waiting.push((function(){return r.navigate(e,n)}));else{r.__dirty=!0,e=s(o)+"/"+s(e);var t={instance:r,to:e,navigateOptions:n||{},resolveOptions:n&&n.resolveOptions?n.resolveOptions:a,currentLocationPath:M(e)};m([b,w,y,m.if((function(e){var n=e.matches;return n&&n.length>0}),O,k),S,C],t,C)}}function R(){if(H)return(H?[].slice.call(document.querySelectorAll("[data-navigo]")):[]).forEach((function(e){"false"!==e.getAttribute("data-navigo")&&"_blank"!==e.getAttribute("target")?e.hasListenerAttached||(e.hasListenerAttached=!0,e.navigoHandler=function(n){if((n.ctrlKey||n.metaKey)&&"a"===n.target.tagName.toLowerCase())return!1;var t=e.getAttribute("href");if(null==t)return!1;if(t.match(/^(http|https)/)&&"undefined"!=typeof URL)try{var a=new URL(t);t=a.pathname+a.search}catch(e){}var o=function(e){if(!e)return{};var n,t=e.split(","),a={};return t.forEach((function(e){var t=e.split(":").map((function(e){return e.replace(/(^ +| +$)/g,"")}));switch(t[0]){case"historyAPIMethod":a.historyAPIMethod=t[1];break;case"resolveOptionsStrategy":n||(n={}),n.strategy=t[1];break;case"resolveOptionsHash":n||(n={}),n.hash="true"===t[1];break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":a[t[0]]="true"===t[1]}})),n&&(a.resolveOptions=n),a}(e.getAttribute("data-navigo-options"));T||(n.preventDefault(),n.stopPropagation(),r.navigate(s(t),o))},e.addEventListener("click",e.navigoHandler)):e.hasListenerAttached&&e.removeEventListener("click",e.navigoHandler)})),r}function D(e,n,t){var a=L.find((function(n){return n.name===e})),r=null;if(a){if(r=a.path,n)for(var i in n)r=r.replace(":"+i,n[i]);r=r.match(/^\//)?r:"/"+r}return r&&t&&!t.includeRoot&&(r=r.replace(new RegExp("^/"+o),"")),r}function N(e){var n=p(s(e)),a=n[0],r=n[1],o=""===r?null:u(r);return{url:a,queryString:r,hashString:l(e),route:x(a,(function(){}),[t],a),data:null,params:o}}function j(e,n,t){return"string"==typeof n&&(n=I(n)),n?(n.hooks[e]||(n.hooks[e]=[]),n.hooks[e].push(t),function(){n.hooks[e]=n.hooks[e].filter((function(e){return e!==t}))}):(console.warn("Route doesn't exists: "+n),function(){})}function I(e){return"string"==typeof e?L.find((function(n){return n.name===F(e)})):L.find((function(n){return n.handler===e}))}e?o=s(e):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=o,this.routes=L,this.destroyed=T,this.current=h,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.on=function(e,n,a){var r=this;return"object"!=typeof e||e instanceof RegExp?("function"==typeof e&&(a=n,n=e,e=o),L.push(x(e,n,[t,a])),this):(Object.keys(e).forEach((function(n){if("function"==typeof e[n])r.on(n,e[n]);else{var a=e[n],o=a.uses,i=a.as,s=a.hooks;L.push(x(n,o,[t,s],i))}})),this)},this.off=function(e){return this.routes=L=L.filter((function(n){return c(e)?s(n.path)!==s(e):"function"==typeof e?e!==n.handler:String(n.path)!==String(e)})),this},this.resolve=P,this.navigate=U,this.navigateByName=function(e,n,t){var a=D(e,n);return null!==a&&(U(a.replace(new RegExp("^/?"+o),""),t),!0)},this.destroy=function(){this.routes=L=[],E&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=T=!0},this.notFound=function(e,n){return r._notFoundRoute=x("*",e,[t,n],"__NOT_FOUND__"),this},this.updatePageLinks=R,this.link=function(e){return"/"+o+"/"+s(e)},this.hooks=function(e){return t=e,this},this.extractGETParameters=function(e){return p(M(e))},this.lastResolved=function(){return h},this.generate=D,this.getLinkPath=function(e){return e.getAttribute("href")},this.match=function(e){var n={instance:r,currentLocationPath:e,to:e,navigateOptions:{},resolveOptions:a};return y(n,(function(){})),!!n.matches&&n.matches},this.matchLocation=function(e,n,t){void 0===n||void 0!==t&&!t||(n=F(n));var a={instance:r,to:n,currentLocationPath:n};return g(a,(function(){})),"string"==typeof e&&(e=void 0===t||t?F(e):e),d(a,{name:String(e),path:e,handler:function(){},hooks:{}})||!1},this.getCurrentLocation=function(){return N(s(i(o)).replace(new RegExp("^"+o),""))},this.addBeforeHook=j.bind(this,"before"),this.addAfterHook=j.bind(this,"after"),this.addAlreadyHook=j.bind(this,"already"),this.addLeaveHook=j.bind(this,"leave"),this.getRoute=I,this._pathToMatchObject=N,this._clean=s,this._checkForAHash=M,this._setCurrent=function(e){return h=r.current=e},function(){E&&(this.__popstateListener=function(){r.__freezeListening||P()},window.addEventListener("popstate",this.__popstateListener))}.call(this),R.call(this)}}},n={};function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{}};return e[a](r,r.exports,t),r.exports}return t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t(407)})().default},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">Home</h1>\r\n\r\nWelcome to the V2 Dashboard\r\n\r\n<p>\r\n    '),__append(escapeFn(siteHealth)),__append("\r\n</p>");return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">Home</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">'),__append(escapeFn(label)),__append('</h1>\r\n<div class="collections-editor" id="editor"></div>\r\n\r\n<br>\r\n<span id="saveBtn" class="btn btn-primary"><span class="fa fa-save"></span> Save</span>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">Collections</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){function zero(e){return e<10?"0"+String(e):String(e)}__append('<h1 class="title">Edit Post</h1>\r\n\r\n<form id="cp-form" enctype="multipart/form-data" class="form">\r\n    <input type="hidden" name="id" value="'),__append(escapeFn(post.id)),__append('">\r\n    <span class="label">Post Title</span>\r\n    <input name="title" class="input" value="'),__append(escapeFn(post.title)),__append('" placeholder="Enter a title for this post..." type="text">\r\n\r\n    <span class="label">Post Image</span>\r\n    <input name="image" class="input" placeholder="Select a thumbnail for this post..." type="file"><br>\r\n    '),"draft"!=post.type&&__append("<i>To keep the thumbnail unchanged, do not select any file.</i><p></p>"),__append('\r\n    \r\n    <span class="label">Body</span>\r\n    <textarea name="body" id="postBodyEditor">'),__append(escapeFn(post.body)),__append('</textarea>\r\n    <br>\r\n\r\n    <span class="label">Category</span>\r\n    <input value="'),__append(escapeFn(post.cat)),__append('" name="cat" class="input" placeholder="Enter the category of this post" type="text">\r\n\r\n    <span class="label">Tags</span>\r\n    <input value="'),__append(escapeFn(post.tags)),__append('" name="tags" class="input" placeholder="Enter a comma separated list of tags..." type="text">\r\n\r\n    ');var lastDate=new Date(1e3*post.lastDate),lastDateVal=lastDate.getUTCFullYear()+"-"+zero(lastDate.getUTCMonth()+1)+"-"+zero(lastDate.getUTCDate());__append('\r\n    <span class="label">Last Date</span>\r\n    <input value="'),__append(escapeFn(lastDateVal)),__append('" oninput="document.getElementById(\'lastDate\').value=this.valueAsNumber/1000;" class="input" type="date">\r\n\r\n    <span class="label">Image Alternative Text</span>\r\n    <input value="'),__append(escapeFn(post.image_alt)),__append('" name="imageAlt" class="input" placeholder="Enter alternative text..." type="text">\r\n\r\n    <span class="label">Custom Permalink</span>\r\n    <input value="'),__append(escapeFn(post.permalink)),__append('" id="permalink-inp" class="input" placeholder="Enter a custom permalink for this post..." type="text">\r\n    <div class="permalink-preview">'),__append(escapeFn(siteRoot)),__append('/post/<span id="permalink-preview">'),__append(escapeFn(post.permalink)),__append('</span></div>\r\n\r\n    <input id="lastDate" type="hidden" name="lastDate" value="'),__append(escapeFn(post.lastDate)),__append('">\r\n    <input id="permalink-value" type="hidden" name="permalink" value="'),__append(escapeFn(post.permalink)),__append('">\r\n    <input value="'),__append(escapeFn(post.author)),__append('" type="hidden" name="author" value="Administrator">\r\n    <p></p>\r\n    <a id="post-btn" class="btn btn-primary btn-full-width"><span class="fa fa-edit"></span> Update Post</a>\r\n    '),"draft"===post.type?__append('\r\n        <a id="draft-publish-btn" class="btn btn-secondary btn-full-width"><span class="fa fa-globe"></span> Publish to Public</a>\r\n        \r\n        <p>\r\n            <i><span class="fa fa-info-circle"></span>  Publishing will not update this draft with your current edits. It will create a new post, and the draft will not be deleted.</i>\r\n        </p>\r\n    '):__append("\r\n        <p></p>\r\n    "),__append("\r\n</form>")}return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">Edit Post</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">Manage Posts</h1>\r\n<div class="navbar">\r\n    <a href="'),__append(escapeFn(adminUrl)),__append('/#/managePosts/public" class="item '),__append(escapeFn("public"===type?"active":"")),__append('">\r\n        <span>Public</span>\r\n    </a>\r\n    <a href="'),__append(escapeFn(adminUrl)),__append('/#/managePosts/private" class="item '),__append(escapeFn("private"===type?"active":"")),__append('">\r\n        <span>Private</span>\r\n    </a>\r\n    <a href="'),__append(escapeFn(adminUrl)),__append('/#/managePosts/draft" class="item '),__append(escapeFn("draft"===type?"active":"")),__append('">\r\n        <span>Drafts</span>\r\n    </a>\r\n</div>\r\n<div class="posts-list">\r\n    '),posts.forEach(e=>{__append('\r\n        <div class="post">\r\n            <span class="title"><span class="id">'),__append(escapeFn(e.id)),__append("</span>"),__append(escapeFn(e.title)),__append('</span>\r\n            <div class="right">\r\n                <a class="icon" href="'),__append(escapeFn(adminUrl)),__append("/#/editPost/"),__append(escapeFn(e.id)),__append('"><span class="fa fa-edit"></span></a>\r\n                <a class="icon delete" href="'),__append(escapeFn(adminUrl)),__append("/#/deletePost/"),__append(escapeFn(e.id)),__append('"><span class="fa fa-trash"></span></a>\r\n            </div>\r\n        </div>\r\n    ')}),__append("\r\n</div>");return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">Manage Posts</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">Create a new Post</h1>\r\n\r\n'),0!=autoSaved&&(__append('\r\n<div id="autosavedMessageBox" class="message-box info">\r\n    <span id="closeAutosavedBtn" class="close-btn fa fa-times-circle"></span>\r\n    Continue editing "'),__append(escapeFn(autoSaved.data.title)),__append('"? [autosaved]\r\n    <br>\r\n    <span id="resumeEditingBtn" class="link">Resume Editing</span>\r\n</div>\r\n')),__append('\r\n\r\n<form id="cp-form" enctype="multipart/form-data" class="form">\r\n    <span class="label">Post Title</span>\r\n    <input id="title" name="title" class="input" placeholder="Enter a title for this post..." type="text">\r\n\r\n    <span class="label">Post Image</span>\r\n    <input name="image" class="input" placeholder="Select a thumbnail for this post..." type="file">\r\n    \r\n    <span class="label">Body</span>\r\n    <textarea name="body" id="postBodyEditor"></textarea>\r\n    <br>\r\n\r\n    <span class="label">Category</span>\r\n    <input id="cat" name="cat" class="input" placeholder="Enter the category of this post" type="text">\r\n\r\n    <span class="label">Tags</span>\r\n    <input id="tags" name="tags" class="input" placeholder="Enter a comma separated list of tags..." type="text">\r\n\r\n    <span class="label">Last Date</span>\r\n    <input id="date" oninput="document.getElementById(\'lastDate\').value=this.valueAsNumber/1000;" class="input" type="date">\r\n    \r\n    <span class="label">Image Alternative Text</span>\r\n    <input id="imageAlt" name="imageAlt" class="input" placeholder="Enter alternative text..." type="text">\r\n\r\n    <span class="label">Custom Permalink</span>\r\n    <input id="permalink-inp" class="input" placeholder="Enter a custom permalink for this post..." type="text">\r\n    <div class="permalink-preview">'),__append(escapeFn(siteRoot)),__append('/post/<span id="permalink-preview"></span></div>\r\n\r\n    <input id="lastDate" type="hidden" name="lastDate" value="0">\r\n    <input id="permalink-value" type="hidden" name="permalink" value="">\r\n    <input type="hidden" name="author" value="Administrator">\r\n    <input id="postType" type="hidden" name="type" value="public">\r\n\r\n    <p></p>\r\n    <a id="post-btn" class="btn btn-primary btn-full-width"><span class="fa fa-plus-circle"></span> Post</a>\r\n    <a id="draft-btn" class="btn btn-secondary btn-full-width"><span class="fa fa-plus-circle"></span> Save as draft</a>\r\n    <br><br>\r\n</form>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">Create a new Post</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){__append('<h1 class="title">Media Gallery</h1>\r\n<form id="uploadImageForm" enctype="multipart/form-data" class="add-new-box form">\r\n    <input name="path" type="hidden" id="imageUploadPath" value="">\r\n    <input name="image" type="file" class="input" placeholder="Select image to upload...">\r\n    <span id="imageUploadBtn" class="btn btn-primary"><span class="fa fa-plus-circle"></span> Upload</span>\r\n\r\n<div class="navigation">\r\n    <span class="item"><a href="#/gallery">/</a><span class="fa fa-angle-right"></span></span>\r\n    ');for(var i=0;i<routes.length;i++){for(var fullRoute="/",j=0;j<=i;j++)fullRoute+=routes[j]+"/";__append('\r\n    <span class="item"><a href="#/gallery?route='),__append(escapeFn(encodeURIComponent(fullRoute))),__append('">'),__append(escapeFn(routes[i])),__append('</a><span class="fa fa-angle-right"></span></span>\r\n    ')}for(var item in __append('\r\n</div>\r\n<div class="files-box">\r\n'),folders)__append('\r\n    <a href="#/gallery?route='),__append(escapeFn(encodeURIComponent(route+folders[item][0].file+"/"))),__append('" class="item folder">\r\n        <div class="img">\r\n            <span class="fa fa-folder"></span>\r\n        </div>\r\n        <div class="labels">\r\n            <span class="title">'),__append(escapeFn(folders[item][0].file)),__append("</span>\r\n        </div>\r\n    </a>\r\n");for(var item in __append("\r\n"),files)__append('\r\n    <div class="item image">\r\n        <div class="img">\r\n            <img src="'),__append(escapeFn(siteRoot)),__append("/images/uploads"),__append(escapeFn(route+files[item].file)),__append('" class="img">\r\n        </div>\r\n        <div class="labels">\r\n            <span class="title">'),__append(escapeFn(files[item].file)),__append('</span>\r\n\r\n            <div class="buttons">\r\n                <span data-filename="'),__append(escapeFn(files[item].file)),__append('" class="deleteImageBtn fa fa-trash"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n');__append("\r\n</div></form>")}return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">Media Gallery</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">System Update</h1>\r\n'),0==update.update?__append('\r\n    <h3><span style="color:#20cc65;" class="fa fa-check-circle"></span> No updates are available.</h3>\r\n'):(__append('\r\n    <h3><span style="color:#e89600;" class="fa fa-exclamation-circle"></span> New updates are available.</h3>\r\n    <b>Local: </b> '),__append(escapeFn(localVersion)),__append("<br>\r\n    <b>Latest: </b> "),__append(escapeFn(update.body.version)),__append('<p></p>\r\n    \r\n    <h4>Changelog</h4>\r\n    <div class="update-changelog">'),__append(update.body.changes),__append('</div>\r\n    \r\n    <a id="update-btn" class="btn btn-primary"><span class="fa fa-sync"></span> Install Updates</a>\r\n'));return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h1 class="title">System Update</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append("<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <title>Delete Post - theJobListr</title>\r\n        "),__append(include("../templates/html-head")),__append("\r\n    </head>\r\n    <body>\r\n        "),__append(include("../templates/header")),__append("\r\n        "),__append(include("../templates/sidebar")),__append('\r\n        <div class="body">\r\n            <h1 class="title">Delete Post</h1>\r\n            <p>\r\n                Are you sure you want to delete post with ID <code>'),__append(escapeFn(postId)),__append('</code>?\r\n            </p>\r\n            <form method="POST" action="'),__append(escapeFn(config.api.root+"/admin/deletePost")),__append('" class="form">\r\n                <input type="hidden" value="'),__append(escapeFn(postId)),__append('" name="id">\r\n                <input type="hidden" name="authToken" value="'),__append(escapeFn(auth.token)),__append('">\r\n                <a onclick="Form.submit(this.parentNode)" href="#" class="btn btn-danger btn-full-width">Delete Post Permanently</a>\r\n                <a href="'),__append(escapeFn(config.admin.root+"/managePosts")),__append('" class="btn btn-primary">Go Back</a>\r\n                <input type="hidden" name="asyncRedirect" value="'),__append(escapeFn(config.admin.root+"/managePosts")),__append('">\r\n            </form>\r\n        </div>\r\n    </body>\r\n</html>');return __output}},function(e,n,t){"use strict";t.r(n);var a=t(0),r=new(t.n(a).a)("/",{hash:!0});function o(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==t.return||t.return()}finally{if(c)throw o}}}}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.reload=function(){r.navigate("/",{updateBrowserURL:!1,callHandler:!1}),r.navigate(r.getCurrentLocation().hashString)},r.hooks({before:function(e,n){null!=localStorage.getItem("wa-authToken")&&null!=localStorage.getItem("wa-username")?e():window.location.href=config.adminUrl+"/login"}}),window.Router=r;var c=function(e){return document.getElementById(e)},l={_:c,ajaxReq:function(e){var n=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHttp"):new XMLHttpRequest;if(n.onreadystatechange=function(){4==n.readyState&&200==n.status?e.onload(n.responseText):4==n.readyState&&n.status>=400&&e.onerror("Error "+n.status+" ("+n.statusText+"): "+n.responseText)},n.onerror=function(){e.onerror("A network error occurred while performing the request")},n.open(e.type.toUpperCase(),"get"==e.type.toLowerCase()?e.url+"?"+e.content:e.url),void 0!==e.headers)for(var t=0;t<=e.headers.length-1;t++)n.setRequestHeader(e.headers[t].header,e.headers[t].content);"object"!=s(e.content)||e.content.get||(e.content=JSON.stringify(e.content),n.setRequestHeader("Content-Type","application/json")),n.send("get"==e.type.toLowerCase()?null:e.content)},loadScript:function(e,n,t){var a=document.createElement("script");a.type="text/javascript",a.onload=n,a.src=e,a.onerror=void 0===t?function(){}:t,document.head.appendChild(a)},loadCSS:function(e){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,document.head.appendChild(n)},submitForm:function(e,n,t,a){var r=new FormData(e),i={};if("multipart/form-data"!=e.enctype){var s,c=o(r.entries());try{for(c.s();!(s=c.n()).done;){var u=s.value;i[u[0]]=u[1]}}catch(e){c.e(e)}finally{c.f()}}else i=r;l.ajaxReq({type:"post",url:n,content:i,headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){t(e)},onerror:function(e){a(e)}})}},p={token:localStorage.getItem("wa-authToken"),username:localStorage.getItem("wa-username"),logout:function(){localStorage.removeItem("wa-authToken"),localStorage.removeItem("wa-username"),window.location.href=config.adminUrl+"/login"}},u=function(e){c("app-body").innerHTML=e},d={listeners:[],on:function(e,n,t){d.listeners.push({target:n,evt:e,handler:t}),n.addEventListener(e,d.listeners[d.listeners.length-1].handler);var a=d.listeners.length-1;return{remove:function(){d.remove(a)}}},remove:function(e){var n=d.listeners[e];n.target.removeEventListener(n.evt,n.handler),d.listeners.splice(e,1)},removeAll:function(){for(var e=0;e<d.listeners.length;e++)d.remove(e)}};r.hooks({before:function(e,n){d.removeAll(),e()}});var f=t(1),h=t.n(f),_=t(2),v=t.n(_);r.on("/",(function(){u(v()()),l.ajaxReq({url:config.apiUrl+"/system/status",type:"get",content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){u(h()({siteHealth:e}))},onerror:function(e){}})}));var m=[],g=null,y=function(){var e=l._("notification"),n=l._("notification.icon"),t=l._("notification.text");l._("notification.closeBtn");e.style.transform="translateY(110%)",setTimeout((function(){n.classList.remove("fa-times"),n.classList.remove("fa-check"),t.innerHTML="",clearTimeout(g),g=null,b()}),200)},b=function(){if(null==g){if(m.length<1)return clearTimeout(g),void(g=null);var e=l._("notification"),n=l._("notification.icon"),t=l._("notification.text"),a=l._("notification.closeBtn"),r=m[0];"error"==r.type||"failure"==r.type?(n.classList.remove("fa-check"),n.classList.add("fa-times")):"success"==r.type&&(n.classList.remove("fa-times"),n.classList.add("fa-check")),t.innerHTML=r.text,e.style.transform="translateY(-20px)",a.onclick=y,m.shift(),g=setTimeout(y,5e3)}},w=function(e,n){m.push({type:e,text:n}),b()};window.Notify=w;var L=function(e,n,t){t(confirm(n))},T={open:function(e){l._("sidebar").style.transform="translateX(0)",l._("fade").style.visibility="visible",l._("fade").style.backgroundColor="#00000030",l._("fade").onclick=T.close,l._("sidebar").addEventListener("click",(function(e){-1!=e.target.className.indexOf("item")&&T.close()}))},close:function(e){l._("sidebar").style.transform="translateX(-100%)",l._("fade").style.backgroundColor="transparent",setTimeout((function(){l._("fade").style.visibility="hidden"}),200),l._("fade").onclick=void 0}};l._("UI.MenuButton").onclick=function(e){T.open(e.currentTarget)};var S=t(3),E=t.n(S),H=t(4),M=t.n(H);r.on("/collections",(function(){u(M()()),l.ajaxReq({type:"get",url:window.config.apiUrl+"/data/getCollections",content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){e=JSON.parse(e);var n=JSON.parse(e.collections);l.loadCSS("/assets/jsoneditor/dist/jsoneditor.min.css"),l.loadScript("/assets/jsoneditor/dist/jsoneditor-minimalist.min.js",(function(){u(E()({label:"Collections"}));var e=l._("editor");window.editor=new JSONEditor(e),window.editor.set(n.collections),l._("saveBtn").onclick=function(e){var n=e.currentTarget,t=JSON.stringify(window.editor.get()),a=n.innerHTML;n.innerHTML="<span class='fa fa-spin fa-sync'></span> Saving changes...",n.classList.add("disabled"),l.ajaxReq({type:"post",url:window.config.apiUrl+"/data/setCollections",content:{collections:t},headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){w("success","Saved changes successfully"),n.innerHTML=a,n.classList.remove("disabled")},onerror:function(e){w("failure","Failed to edit collections: "+e)}})}}))},onerror:function(e){w("failure","Failed to fetch collections: "+e)}})}));var k=t(5),F=t.n(k),O=t(6),C=t.n(O);r.on("/editPost/:id",(function(e){var n=e.data;u(C()()),l.ajaxReq({type:"get",url:window.config.apiUrl+"/admin/getPosts",content:"id=".concat(n.id),headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){e=JSON.parse(e);var n=JSON.parse(e.posts)[0];l.loadScript("/assets/tinymce/js/tinymce/tinymce.min.js",(function(){u(F()({post:n,adminUrl:window.config.adminUrl,siteRoot:window.config.websiteUrl})),window.tinyMCE.init({selector:"textarea#postBodyEditor",height:500,plugins:["advlist autolink link image lists charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","table emoticons template paste help"],toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons | help"}),l._("post-btn").onclick=function(e){window.tinymce.triggerSave(!0,!0);var n=e.currentTarget.innerHTML,t=e.currentTarget;t.innerHTML="<span class='fa fa-spin fa-circle-notch'></span> Updating Post...",t.classList.add("disabled"),l.submitForm(l._("cp-form"),window.config.apiUrl+"/admin/editPost",(function(e){t.innerHTML=n,t.classList.remove("disabled"),w("success","Post updated successfully")}),(function(e){t.innerHTML=n,t.classList.remove("disabled"),w("failure","An error occured: "+e)}))},l._("draft-publish-btn").onclick=function(e){window.tinymce.triggerSave(!0,!0);var n=e.currentTarget.innerHTML,t=e.currentTarget;t.innerHTML="<span class='fa fa-spin fa-circle-notch'></span> Publishing as Post...",t.classList.add("disabled"),l.submitForm(l._("cp-form"),window.config.apiUrl+"/admin/createPost",(function(e){t.innerHTML=n,t.classList.remove("disabled"),w("success","Post published successfully")}),(function(e){t.innerHTML=n,t.classList.remove("disabled"),w("failure","An error occured: "+e)}))},l._("permalink-inp").oninput=function(){var e=l._("permalink-inp").value;e=encodeURIComponent(e.replace(/\s+/g,"-").toLowerCase()),l._("permalink-value").value=e,l._("permalink-preview").innerHTML=e}}),(function(e){w("failure","An error occured: "+e)}))},onerror:function(e){w("failure","Failed to fetch post: "+e),console.log(e)}})}));t(15);r.on("/deletePost/:id",(function(e){var n=e.data;L(0,"Are you sure you want to delete Post with ID "+n.id,(function(e){!0===e?l.ajaxReq({type:"post",url:window.config.apiUrl+"/admin/deletePost",content:{id:n.id},headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){e=JSON.parse(e),w("success","Post was deleted successfully"),window.history.length>2?window.history.back():r.navigate("/")},onerror:function(e){w("failure","Failed to fetch posts: "+e),window.history.length>2?window.history.back():r.navigate("/")}}):window.history.length>2?window.history.back():r.navigate("/")}))}));var A=t(7),x=t.n(A),P=t(8),U=t.n(P);r.on("/managePosts/:type",(function(e){var n=e.data;u(U()());var t=n;-1!=["draft","public","private"].indexOf(t.type)?l.ajaxReq({type:"get",url:window.config.apiUrl+"/admin/getPosts",content:"type=".concat(t.type),headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){e=JSON.parse(e);var n=JSON.parse(e.posts);u(x()({posts:n,adminUrl:window.config.adminUrl,type:t.type}))},onerror:function(e){w("failure","Failed to fetch posts: "+e)}}):w("error","Failed to fetch posts because of invalid post type")}));var R=t(9),D=t.n(R),N=t(10),j=t.n(N);function I(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return B(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw o}}}}function B(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}r.on("/createPost",(function(){var e=!(void 0===localStorage["weblite-createPost-autoSave"]);u(j()()),l.loadScript("/assets/tinymce/js/tinymce/tinymce.min.js",(function(){u(D()({siteRoot:window.config.websiteUrl,autoSaved:!1!==e&&{data:JSON.parse(localStorage.getItem("weblite-createPost-autoSave")),lastSave:localStorage.getItem("weblite-createPost-lastSave")}})),window.tinyMCE.init({selector:"textarea#postBodyEditor",height:500,plugins:["advlist autolink link image lists charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","table emoticons template paste help"],toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons | help"});var n=function(e){window.tinymce.triggerSave(!0,!0);var n=e.currentTarget.innerHTML,t=e.currentTarget;t.innerHTML="<span class='fa fa-spin fa-circle-notch'></span> Posting...",t.classList.add("disabled"),l.submitForm(l._("cp-form"),window.config.apiUrl+"/admin/createPost",(function(e){t.innerHTML=n,t.classList.remove("disabled"),l._("cp-form").reset(),l._("permalink-preview").innerHTML="",localStorage.removeItem("weblite-createPost-autoSave"),localStorage.removeItem("weblite-createPost-lastSave"),w("success","Post published successfully")}),(function(e){t.innerHTML=n,t.classList.remove("disabled"),w("failure","An error occured: "+e)}))};l._("post-btn").onclick=n,l._("permalink-inp").oninput=function(){var e=l._("permalink-inp").value;e=encodeURIComponent(e.replace(/\s+/g,"-").toLowerCase()),l._("permalink-value").value=e,l._("permalink-preview").innerHTML=e};var t=l._("cp-form"),a=function(){setInterval((function(){if(""!=window.tinymce.activeEditor.getContent()||""!=l._("title").value){window.tinymce.triggerSave(!0,!0);var e,n={},a=I(new FormData(t).entries());try{for(a.s();!(e=a.n()).done;){var r=e.value;n[r[0]]=r[1]}}catch(e){a.e(e)}finally{a.f()}localStorage.setItem("weblite-createPost-autoSave",JSON.stringify(n)),localStorage.setItem("weblite-createPost-lastSave",Date())}}),1e4)};t.addEventListener("input",(function(){!0===e?L(0,"Editing a new post will overwrite the previous autosaved post. Continue?",(function(e){!0===e&&a()})):a()}),{once:!0}),!0===e&&(l._("resumeEditingBtn").addEventListener("click",(function(){l._("autosavedMessageBox").remove();var n=JSON.parse(localStorage.getItem("weblite-createPost-autoSave"));l._("title").value=n.title,l._("cat").value=n.cat,l._("tags").value=n.tags,l._("date").valueAsNumber=1e3*n.lastDate,l._("lastDate").value=n.lastDate,l._("imageAlt").value=n.imageAlt,l._("permalink-inp").value=n.permalink,l._("permalink-preview").innerHTML=n.permalink,l._("postBodyEditor").value=n.body,window.tinymce.activeEditor.render(),e=!1})),l._("closeAutosavedBtn").addEventListener("click",(function(){this.parentNode.remove(),e=!1}))),l._("draft-btn").addEventListener("click",(function(e){l._("postType").value="draft",n(e)}))}),(function(e){w("failure","An error occured: "+e)}))}));var q=t(11),z=t.n(q),J=t(12),V=t.n(J);r.on("/gallery",(function(e){e.data;var n=e.params;e.queryString;u(V()());var t="/";n&&n.route&&(t=decodeURIComponent(n.route));var a,o,i=t.split("/");i.pop(),i.shift(),a=t,o=function(e){for(var n=[],a=0;a<=e.length-1;a++)e[a].dir&&1==e[a].dir&&(n.push(e.splice(a,1)),a--);u(z()({files:e,folders:n,siteRoot:window.config.websiteUrl,route:t,routes:i}))},l.ajaxReq({type:"get",url:window.config.apiUrl+"/gallery/getImages",content:"path="+a,headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){e=JSON.parse(e),o(JSON.parse(e.images))},onerror:function(e){w("failure","Failed to fetch media gallery: "+e)}}),d.on("click",window,(function(e){if(-1!=e.target.className.indexOf("deleteImageBtn")){var n=e.target.getAttribute("data-filename");L(0,'Are you sure about deleting "'+n+'"?',(function(e){1==e&&l.ajaxReq({type:"post",url:window.config.apiUrl+"/admin/deleteFile",content:{path:"./site/static/images/uploads"+t+n},headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){w("success","Deleted file successfully"),r.reload()},onerror:function(e){w("failure","Failed to delete the file: "+e)}})}))}if("imageUploadBtn"===e.target.id){var a=e.target.innerHTML;e.target.classList.add("disabled"),e.target.innerHTML="<span class='fa fa-spin fa-circle-notch'></span> Uploading image...",l._("imageUploadPath").value="/images/uploads"+t.substring(0,t.length-1),l.submitForm(l._("uploadImageForm"),window.config.apiUrl+"/admin/uploadImage",(function(n){e.target.classList.remove("disabled"),e.target.innerHTML=a,w("success","Uploaded image successfully"),r.reload()}),(function(n){w("failure","Failed to upload image: "+n),e.target.classList.remove("disabled"),e.target.innerHTML=a}))}}))}));var X=t(13),$=t.n(X),G=t(14),W=t.n(G);r.on("/system/update",(function(){u(W()()),l.ajaxReq({type:"get",url:window.config.apiUrl+"/admin/checkUpdates",content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){e=JSON.parse(e),u($()({update:e,localVersion:config.localVersion})),l._("update-btn").onclick=function(e){var n=e.currentTarget,t=n.innerHTML;n.innerHTML="<span class='fa fa-spin fa-sync'></span> Installing updates...",n.classList.add("disabled"),l.ajaxReq({type:"get",url:config.apiUrl+"/admin/update",content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(e){n.innerHTML="<span class='fa fa-check'></span> Restarting...",setTimeout(window.location.reload.bind(window.location),5e3)},onerror:function(e){w("failure","Failed to install updates "+e),n.innerHTML=t,n.classList.remove("disabled")}})}},onerror:function(e){w("failure","Failed to check for updates: "+e)}})})),r.resolve()}]);