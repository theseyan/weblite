!function(n){var e={};function t(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return n[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,a){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:a})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(a,r,function(e){return n[e]}.bind(null,r));return a},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=16)}([function(n,e,t){"undefined"!=typeof self&&self,n.exports=(()=>{"use strict";var n={407:(n,e,t)=>{t.d(e,{default:()=>R});var a=/([:*])(\w+)/g,r=/\*/g,o=/\/\?/g;function i(n){return void 0===n&&(n="/"),_()?location.pathname+location.search+location.hash:n}function s(n){return n.replace(/\/+$/,"").replace(/^\/+/,"")}function c(n){return"string"==typeof n}function l(n){return n&&n.indexOf("#")>=0&&n.split("#").pop()||""}function p(n){var e=s(n).split(/\?(.*)?$/);return[s(e[0]),e.slice(1).join("")]}function u(n){for(var e={},t=n.split("&"),a=0;a<t.length;a++){var r=t[a].split("=");if(""!==r[0]){var o=decodeURIComponent(r[0]);e[o]?(Array.isArray(e[o])||(e[o]=[e[o]]),e[o].push(decodeURIComponent(r[1]||""))):e[o]=decodeURIComponent(r[1]||"")}}return e}function d(n,e){var t,i=p(s(n.currentLocationPath)),d=i[0],h=i[1],f=""===h?null:u(h),_=[];if(c(e.path)){if(t="(?:/^|^)"+s(e.path).replace(a,(function(n,e,t){return _.push(t),"([^/]+)"})).replace(r,"?(?:.*)").replace(o,"/?([^/]+|)")+"$",""===s(e.path)&&""===s(d))return{url:d,queryString:h,hashString:l(n.to),route:e,data:null,params:f}}else t=e.path;var v=new RegExp(t,""),m=d.match(v);if(m){var g=c(e.path)?function(n,e){return 0===e.length?null:n?n.slice(1,n.length).reduce((function(n,t,a){return null===n&&(n={}),n[e[a]]=decodeURIComponent(t),n}),null):null}(m,_):m.groups?m.groups:m.slice(1);return{url:s(d.replace(new RegExp("^"+n.instance.root),"")),queryString:h,hashString:l(n.to),route:e,data:g,params:f}}return!1}function h(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function f(n,e){return void 0===n[e]||!0===n[e]}function _(){return"undefined"!=typeof window}function v(n,e){return void 0===n&&(n=[]),void 0===e&&(e={}),n.filter((function(n){return n})).forEach((function(n){["before","after","already","leave"].forEach((function(t){n[t]&&(e[t]||(e[t]=[]),e[t].push(n[t]))}))})),e}function m(n,e,t){var a=e||{},r=0;!function e(){n[r]?Array.isArray(n[r])?(n.splice.apply(n,[r,1].concat(n[r][0](a)?n[r][1]:n[r][2])),e()):n[r](a,(function(n){void 0===n||!0===n?(r+=1,e()):t&&t(a)})):t&&t(a)}()}function g(n,e){void 0===n.currentLocationPath&&(n.currentLocationPath=n.to=i(n.instance.root)),n.currentLocationPath=n.instance._checkForAHash(n.currentLocationPath),e()}function y(n,e){for(var t=0;t<n.instance.routes.length;t++){var a=d(n,n.instance.routes[t]);if(a&&(n.matches||(n.matches=[]),n.matches.push(a),"ONE"===n.resolveOptions.strategy))return void e()}e()}function b(n,e){n.navigateOptions&&(void 0!==n.navigateOptions.shouldResolve&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),void 0!==n.navigateOptions.silent&&console.warn('"silent" is deprecated. Please check the documentation.')),e()}function w(n,e){!0===n.navigateOptions.force?(n.instance._setCurrent([n.instance._pathToMatchObject(n.to)]),e(!1)):e()}m.if=function(n,e,t){return Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),[n,e,t]};var L=_(),T=h();function E(n,e){if(f(n.navigateOptions,"updateBrowserURL")){var t=("/"+n.to).replace(/\/\//g,"/"),a=L&&n.resolveOptions&&!0===n.resolveOptions.hash;T?(history[n.navigateOptions.historyAPIMethod||"pushState"](n.navigateOptions.stateObj||{},n.navigateOptions.title||"",a?"#"+t:t),location&&location.hash&&(n.instance.__freezeListening=!0,setTimeout((function(){var e=location.hash;location.hash="",location.hash=e,n.instance.__freezeListening=!1}),1))):L&&(window.location.href=n.to)}e()}function H(n,e){var t=n.instance;t.lastResolved()?m(t.lastResolved().map((function(e){return function(t,a){if(e.route.hooks&&e.route.hooks.leave){var r,o=n.instance.matchLocation(e.route.path,n.currentLocationPath,!1);r="*"!==e.route.path?!o:!(n.matches&&n.matches.find((function(n){return e.route.path===n.route.path}))),f(n.navigateOptions,"callHooks")&&r?m(e.route.hooks.leave.map((function(e){return function(t,a){return e((function(e){!1===e?n.instance.__dirty=!1:a()}),n.matches&&n.matches.length>0?1===n.matches.length?n.matches[0]:n.matches:void 0)}})).concat([function(){return a()}])):a()}else a()}})),{},(function(){return e()})):e()}function M(n,e){f(n.navigateOptions,"updateState")&&n.instance._setCurrent(n.matches),e()}var k=[function(n,e){var t=n.instance.lastResolved();if(t&&t[0]&&t[0].route===n.match.route&&t[0].url===n.match.url&&t[0].queryString===n.match.queryString)return t.forEach((function(e){e.route.hooks&&e.route.hooks.already&&f(n.navigateOptions,"callHooks")&&e.route.hooks.already.forEach((function(e){return e(n.match)}))})),void e(!1);e()},function(n,e){n.match.route.hooks&&n.match.route.hooks.before&&f(n.navigateOptions,"callHooks")?m(n.match.route.hooks.before.map((function(e){return function(t,a){return e((function(e){!1===e?n.instance.__dirty=!1:a()}),n.match)}})).concat([function(){return e()}])):e()},function(n,e){f(n.navigateOptions,"callHandler")&&n.match.route.handler(n.match),n.instance.updatePageLinks(),e()},function(n,e){n.match.route.hooks&&n.match.route.hooks.after&&f(n.navigateOptions,"callHooks")&&n.match.route.hooks.after.forEach((function(e){return e(n.match)})),e()}],S=[H,function(n,e){var t=n.instance._notFoundRoute;if(t){n.notFoundHandled=!0;var a=p(n.currentLocationPath),r=a[0],o=a[1],i=l(n.to);t.path=s(r);var c={url:t.path,queryString:o,hashString:i,data:null,route:t,params:""!==o?u(o):null};n.matches=[c],n.match=c}e()},m.if((function(n){return n.notFoundHandled}),k.concat([M]),[function(n,e){n.resolveOptions&&!1!==n.resolveOptions.noMatchWarning&&void 0!==n.resolveOptions.noMatchWarning||console.warn('Navigo: "'+n.currentLocationPath+"\" didn't match any of the registered routes."),e()},function(n,e){n.instance._setCurrent(null),e()}])];function F(){return(F=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n}).apply(this,arguments)}function O(n,e){var t=0;H(n,(function a(){t!==n.matches.length?m(k,F({},n,{match:n.matches[t]}),(function(){t+=1,a()})):M(n,e)}))}function C(n){n.instance.__dirty=!1,n.instance.__waiting.length>0&&n.instance.__waiting.shift()()}function A(){return(A=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n}).apply(this,arguments)}function R(n,e){var t,a=e||{strategy:"ONE",hash:!1,noMatchWarning:!1},r=this,o="/",f=null,L=[],T=!1,H=h(),M=_();function k(n){return n.indexOf("#")>=0&&(n=!0===a.hash?n.split("#")[1]||"/":n.split("#")[0]),n}function F(n){return s(o+"/"+s(n))}function R(n,e,t,a){return n=c(n)?F(n):n,{name:a||s(String(n)),path:n,handler:e,hooks:v(t)}}function U(n,e){if(!r.__dirty){r.__dirty=!0,n=n?s(o)+"/"+s(n):void 0;var t={instance:r,to:n,currentLocationPath:n,navigateOptions:{},resolveOptions:A({},a,e)};return m([g,y,m.if((function(n){var e=n.matches;return e&&e.length>0}),O,S)],t,C),!!t.matches&&t.matches}r.__waiting.push((function(){return r.resolve(n,e)}))}function x(n,e){if(r.__dirty)r.__waiting.push((function(){return r.navigate(n,e)}));else{r.__dirty=!0,n=s(o)+"/"+s(n);var t={instance:r,to:n,navigateOptions:e||{},resolveOptions:e&&e.resolveOptions?e.resolveOptions:a,currentLocationPath:k(n)};m([b,w,y,m.if((function(n){var e=n.matches;return e&&e.length>0}),O,S),E,C],t,C)}}function P(){if(M)return(M?[].slice.call(document.querySelectorAll("[data-navigo]")):[]).forEach((function(n){"false"!==n.getAttribute("data-navigo")&&"_blank"!==n.getAttribute("target")?n.hasListenerAttached||(n.hasListenerAttached=!0,n.navigoHandler=function(e){if((e.ctrlKey||e.metaKey)&&"a"===e.target.tagName.toLowerCase())return!1;var t=n.getAttribute("href");if(null==t)return!1;if(t.match(/^(http|https)/)&&"undefined"!=typeof URL)try{var a=new URL(t);t=a.pathname+a.search}catch(n){}var o=function(n){if(!n)return{};var e,t=n.split(","),a={};return t.forEach((function(n){var t=n.split(":").map((function(n){return n.replace(/(^ +| +$)/g,"")}));switch(t[0]){case"historyAPIMethod":a.historyAPIMethod=t[1];break;case"resolveOptionsStrategy":e||(e={}),e.strategy=t[1];break;case"resolveOptionsHash":e||(e={}),e.hash="true"===t[1];break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":a[t[0]]="true"===t[1]}})),e&&(a.resolveOptions=e),a}(n.getAttribute("data-navigo-options"));T||(e.preventDefault(),e.stopPropagation(),r.navigate(s(t),o))},n.addEventListener("click",n.navigoHandler)):n.hasListenerAttached&&n.removeEventListener("click",n.navigoHandler)})),r}function D(n,e,t){var a=L.find((function(e){return e.name===n})),r=null;if(a){if(r=a.path,e)for(var i in e)r=r.replace(":"+i,e[i]);r=r.match(/^\//)?r:"/"+r}return r&&t&&!t.includeRoot&&(r=r.replace(new RegExp("^/"+o),"")),r}function N(n){var e=p(s(n)),a=e[0],r=e[1],o=""===r?null:u(r);return{url:a,queryString:r,hashString:l(n),route:R(a,(function(){}),[t],a),data:null,params:o}}function j(n,e,t){return"string"==typeof e&&(e=I(e)),e?(e.hooks[n]||(e.hooks[n]=[]),e.hooks[n].push(t),function(){e.hooks[n]=e.hooks[n].filter((function(n){return n!==t}))}):(console.warn("Route doesn't exists: "+e),function(){})}function I(n){return"string"==typeof n?L.find((function(e){return e.name===F(n)})):L.find((function(e){return e.handler===n}))}n?o=s(n):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=o,this.routes=L,this.destroyed=T,this.current=f,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.on=function(n,e,a){var r=this;return"object"!=typeof n||n instanceof RegExp?("function"==typeof n&&(a=e,e=n,n=o),L.push(R(n,e,[t,a])),this):(Object.keys(n).forEach((function(e){if("function"==typeof n[e])r.on(e,n[e]);else{var a=n[e],o=a.uses,i=a.as,s=a.hooks;L.push(R(e,o,[t,s],i))}})),this)},this.off=function(n){return this.routes=L=L.filter((function(e){return c(n)?s(e.path)!==s(n):"function"==typeof n?n!==e.handler:String(e.path)!==String(n)})),this},this.resolve=U,this.navigate=x,this.navigateByName=function(n,e,t){var a=D(n,e);return null!==a&&(x(a.replace(new RegExp("^/?"+o),""),t),!0)},this.destroy=function(){this.routes=L=[],H&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=T=!0},this.notFound=function(n,e){return r._notFoundRoute=R("*",n,[t,e],"__NOT_FOUND__"),this},this.updatePageLinks=P,this.link=function(n){return"/"+o+"/"+s(n)},this.hooks=function(n){return t=n,this},this.extractGETParameters=function(n){return p(k(n))},this.lastResolved=function(){return f},this.generate=D,this.getLinkPath=function(n){return n.getAttribute("href")},this.match=function(n){var e={instance:r,currentLocationPath:n,to:n,navigateOptions:{},resolveOptions:a};return y(e,(function(){})),!!e.matches&&e.matches},this.matchLocation=function(n,e,t){void 0===e||void 0!==t&&!t||(e=F(e));var a={instance:r,to:e,currentLocationPath:e};return g(a,(function(){})),"string"==typeof n&&(n=void 0===t||t?F(n):n),d(a,{name:String(n),path:n,handler:function(){},hooks:{}})||!1},this.getCurrentLocation=function(){return N(s(i(o)).replace(new RegExp("^"+o),""))},this.addBeforeHook=j.bind(this,"before"),this.addAfterHook=j.bind(this,"after"),this.addAlreadyHook=j.bind(this,"already"),this.addLeaveHook=j.bind(this,"leave"),this.getRoute=I,this._pathToMatchObject=N,this._clean=s,this._checkForAHash=k,this._setCurrent=function(n){return f=r.current=n},function(){H&&(this.__popstateListener=function(){r.__freezeListening||U()},window.addEventListener("popstate",this.__popstateListener))}.call(this),P.call(this)}}},e={};function t(a){if(e[a])return e[a].exports;var r=e[a]={exports:{}};return n[a](r,r.exports,t),r.exports}return t.d=(n,e)=>{for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t(407)})().default},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">Home</h1>\r\n\r\nWelcome to the V2 Dashboard\r\n\r\n<p>\r\n    '),__append(escapeFn(siteHealth)),__append("\r\n</p>");return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">Home</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">'),__append(escapeFn(label)),__append('</h1>\r\n<div class="collections-editor" id="editor"></div>\r\n\r\n<br>\r\n<span id="saveBtn" class="btn btn-primary"><span class="fa fa-save"></span> Save</span>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">Collections</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{}){function zero(n){return n<10?"0"+String(n):String(n)}__append('<h1 class="title">Edit Post</h1>\r\n\r\n<form id="cp-form" enctype="multipart/form-data" class="form">\r\n    <input type="hidden" name="id" value="'),__append(escapeFn(post.id)),__append('">\r\n    <span class="label">Post Title</span>\r\n    <input name="title" class="input" value="'),__append(escapeFn(post.title)),__append('" placeholder="Enter a title for this post..." type="text">\r\n\r\n    <span class="label">Post Image</span>\r\n    <input name="image" class="input" placeholder="Select a thumbnail for this post..." type="file"><br>\r\n    <i>To keep the thumbnail unchanged, do not select any file.</i><p></p>\r\n    \r\n    <span class="label">Body</span>\r\n    <textarea name="body" id="postBodyEditor">'),__append(escapeFn(post.body)),__append('</textarea>\r\n    <br>\r\n\r\n    <span class="label">Category</span>\r\n    <input value="'),__append(escapeFn(post.cat)),__append('" name="cat" class="input" placeholder="Enter the category of this post" type="text">\r\n\r\n    <span class="label">Tags</span>\r\n    <input value="'),__append(escapeFn(post.tags)),__append('" name="tags" class="input" placeholder="Enter a comma separated list of tags..." type="text">\r\n\r\n    ');var lastDate=new Date(1e3*post.lastDate),lastDateVal=lastDate.getUTCFullYear()+"-"+zero(lastDate.getUTCMonth()+1)+"-"+zero(lastDate.getUTCDate());__append('\r\n    <span class="label">Last Date</span>\r\n    <input value="'),__append(escapeFn(lastDateVal)),__append('" oninput="document.getElementById(\'lastDate\').value=this.valueAsNumber/1000;" class="input" type="date">\r\n\r\n    <span class="label">Custom Permalink</span>\r\n    <input value="'),__append(escapeFn(post.permalink)),__append('" id="permalink-inp" class="input" placeholder="Enter a custom permalink for this post..." type="text">\r\n    <div class="permalink-preview">'),__append(escapeFn(siteRoot)),__append('/post/<span id="permalink-preview">'),__append(escapeFn(post.permalink)),__append('</span></div>\r\n\r\n    <input id="lastDate" type="hidden" name="lastDate" value="0">\r\n    <input id="permalink-value" type="hidden" name="permalink" value="'),__append(escapeFn(post.permalink)),__append('">\r\n    <input value="'),__append(escapeFn(post.author)),__append('" type="hidden" name="author" value="Administrator">\r\n    <p></p>\r\n    <a id="post-btn" class="btn btn-primary btn-full-width"><span class="fa fa-edit"></span> Update Post</a>\r\n    <br><br>\r\n</form>')}return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">Edit Post</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">Manage Posts</h1>\r\n<div class="posts-list">\r\n    '),posts.forEach(n=>{__append('\r\n        <div class="post">\r\n            <span class="title"><span class="id">'),__append(escapeFn(n.id)),__append("</span>"),__append(escapeFn(n.title)),__append('</span>\r\n            <div class="right">\r\n                <a class="icon" href="'),__append(escapeFn(adminUrl)),__append("/#/editPost/"),__append(escapeFn(n.id)),__append('"><span class="fa fa-edit"></span></a>\r\n                <a class="icon delete" href="'),__append(escapeFn(adminUrl)),__append("/#/deletePost/"),__append(escapeFn(n.id)),__append('"><span class="fa fa-trash"></span></a>\r\n            </div>\r\n        </div>\r\n    ')}),__append("\r\n</div>");return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">Manage Posts</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">Create a new Post</h1>\r\n\r\n<form id="cp-form" enctype="multipart/form-data" class="form">\r\n    <span class="label">Post Title</span>\r\n    <input name="title" class="input" placeholder="Enter a title for this post..." type="text">\r\n\r\n    <span class="label">Post Image</span>\r\n    <input name="image" class="input" placeholder="Select a thumbnail for this post..." type="file">\r\n    \r\n    <span class="label">Body</span>\r\n    <textarea name="body" id="postBodyEditor"></textarea>\r\n    <br>\r\n\r\n    <span class="label">Category</span>\r\n    <input name="cat" class="input" placeholder="Enter the category of this post" type="text">\r\n\r\n    <span class="label">Tags</span>\r\n    <input name="tags" class="input" placeholder="Enter a comma separated list of tags..." type="text">\r\n\r\n    <span class="label">Last Date</span>\r\n    <input oninput="document.getElementById(\'lastDate\').value=this.valueAsNumber/1000;" class="input" type="date">\r\n    \r\n    <span class="label">Custom Permalink</span>\r\n    <input id="permalink-inp" class="input" placeholder="Enter a custom permalink for this post..." type="text">\r\n    <div class="permalink-preview">'),__append(escapeFn(siteRoot)),__append('/post/<span id="permalink-preview"></span></div>\r\n\r\n    <input id="lastDate" type="hidden" name="lastDate" value="0">\r\n    <input id="permalink-value" type="hidden" name="permalink" value="">\r\n    <input type="hidden" name="author" value="Administrator">\r\n\r\n    <p></p>\r\n    <a id="post-btn" class="btn btn-primary btn-full-width"><span class="fa fa-plus-circle"></span> Post</a>\r\n    <br><br>\r\n</form>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">Create a new Post</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{}){__append('<h1 class="title">Media Gallery</h1>\r\n<form id="uploadImageForm" enctype="multipart/form-data" class="add-new-box form">\r\n    <input name="path" type="hidden" id="imageUploadPath" value="">\r\n    <input name="image" type="file" class="input" placeholder="Select image to upload...">\r\n    <span id="imageUploadBtn" class="btn btn-primary"><span class="fa fa-plus-circle"></span> Upload</span>\r\n\r\n<div class="navigation">\r\n    <span class="item"><a href="#/gallery">/</a><span class="fa fa-angle-right"></span></span>\r\n    ');for(var i=0;i<routes.length;i++){for(var fullRoute="/",j=0;j<=i;j++)fullRoute+=routes[j]+"/";__append('\r\n    <span class="item"><a href="#/gallery?route='),__append(escapeFn(encodeURIComponent(fullRoute))),__append('">'),__append(escapeFn(routes[i])),__append('</a><span class="fa fa-angle-right"></span></span>\r\n    ')}for(var item in __append('\r\n</div>\r\n<div class="files-box">\r\n'),folders)__append('\r\n    <a href="#/gallery?route='),__append(escapeFn(encodeURIComponent(route+folders[item][0].file+"/"))),__append('" class="item folder">\r\n        <div class="img">\r\n            <span class="fa fa-folder"></span>\r\n        </div>\r\n        <div class="labels">\r\n            <span class="title">'),__append(escapeFn(folders[item][0].file)),__append("</span>\r\n        </div>\r\n    </a>\r\n");for(var item in __append("\r\n"),files)__append('\r\n    <div class="item image">\r\n        <div class="img">\r\n            <img src="'),__append(escapeFn(siteRoot)),__append("/images/uploads"),__append(escapeFn(route+files[item].file)),__append('" class="img">\r\n        </div>\r\n        <div class="labels">\r\n            <span class="title">'),__append(escapeFn(files[item].file)),__append('</span>\r\n\r\n            <div class="buttons">\r\n                <span data-filename="'),__append(escapeFn(files[item].file)),__append('" class="deleteImageBtn fa fa-trash"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n');__append("\r\n</div></form>")}return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">Media Gallery</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">System Update</h1>\r\n'),0==update.update?__append('\r\n    <h3><span style="color:#20cc65;" class="fa fa-check-circle"></span> No updates are available.</h3>\r\n'):(__append('\r\n    <h3><span style="color:#e89600;" class="fa fa-exclamation-circle"></span> New updates are available.</h3>\r\n    <b>Local: </b> '),__append(escapeFn(localVersion)),__append("<br>\r\n    <b>Latest: </b> "),__append(escapeFn(update.body.version)),__append('<p></p>\r\n    \r\n    <h4>Changelog</h4>\r\n    <div class="update-changelog">'),__append(update.body.changes),__append('</div>\r\n    \r\n    <a id="update-btn" class="btn btn-primary"><span class="fa fa-sync"></span> Install Updates</a>\r\n'));return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<h1 class="title">System Update</h1>\r\n<div class="ph-item">\r\n\r\n    <div class="ph-col-12">\r\n      <div class="ph-picture"></div>\r\n      <div class="ph-row">\r\n        <div class="ph-col-6 big"></div>\r\n        <div class="ph-col-4 empty big"></div>\r\n        <div class="ph-col-2 big"></div>\r\n        <div class="ph-col-4"></div>\r\n        <div class="ph-col-8 empty"></div>\r\n        <div class="ph-col-6"></div>\r\n        <div class="ph-col-6 empty"></div>\r\n        <div class="ph-col-12"></div>\r\n      </div>\r\n    </div>\r\n\r\n</div>');return __output}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append("<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <title>Delete Post - theJobListr</title>\r\n        "),__append(include("../templates/html-head")),__append("\r\n    </head>\r\n    <body>\r\n        "),__append(include("../templates/header")),__append("\r\n        "),__append(include("../templates/sidebar")),__append('\r\n        <div class="body">\r\n            <h1 class="title">Delete Post</h1>\r\n            <p>\r\n                Are you sure you want to delete post with ID <code>'),__append(escapeFn(postId)),__append('</code>?\r\n            </p>\r\n            <form method="POST" action="'),__append(escapeFn(config.api.root+"/admin/deletePost")),__append('" class="form">\r\n                <input type="hidden" value="'),__append(escapeFn(postId)),__append('" name="id">\r\n                <input type="hidden" name="authToken" value="'),__append(escapeFn(auth.token)),__append('">\r\n                <a onclick="Form.submit(this.parentNode)" href="#" class="btn btn-danger btn-full-width">Delete Post Permanently</a>\r\n                <a href="'),__append(escapeFn(config.admin.root+"/managePosts")),__append('" class="btn btn-primary">Go Back</a>\r\n                <input type="hidden" name="asyncRedirect" value="'),__append(escapeFn(config.admin.root+"/managePosts")),__append('">\r\n            </form>\r\n        </div>\r\n    </body>\r\n</html>');return __output}},function(n,e,t){"use strict";t.r(e);var a=t(0),r=new(t.n(a).a)("/",{hash:!0});function o(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return i(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var a=0,r=function(){};return{s:r,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return s=n.done,n},e:function(n){c=!0,o=n},f:function(){try{s||null==t.return||t.return()}finally{if(c)throw o}}}}function i(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function s(n){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}r.reload=function(){r.navigate("/",{updateBrowserURL:!1,callHandler:!1}),r.navigate(r.getCurrentLocation().hashString)},r.hooks({before:function(n,e){null!=localStorage.getItem("wa-authToken")&&null!=localStorage.getItem("wa-username")?n():window.location.href=config.adminUrl+"/login"}}),window.Router=r;var c=function(n){return document.getElementById(n)},l={_:c,ajaxReq:function(n){var e=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHttp"):new XMLHttpRequest;if(e.onreadystatechange=function(){4==e.readyState&&200==e.status?n.onload(e.responseText):4==e.readyState&&e.status>=400&&n.onerror("Error "+e.status+" ("+e.statusText+"): "+e.responseText)},e.onerror=function(){n.onerror("A network error occurred while performing the request")},e.open(n.type.toUpperCase(),"get"==n.type.toLowerCase()?n.url+"?"+n.content:n.url),void 0!==n.headers)for(var t=0;t<=n.headers.length-1;t++)e.setRequestHeader(n.headers[t].header,n.headers[t].content);"object"!=s(n.content)||n.content.get||(n.content=JSON.stringify(n.content),e.setRequestHeader("Content-Type","application/json")),e.send("get"==n.type.toLowerCase()?null:n.content)},loadScript:function(n,e,t){var a=document.createElement("script");a.type="text/javascript",a.onload=e,a.src=n,a.onerror=void 0===t?function(){}:t,document.head.appendChild(a)},loadCSS:function(n){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=n,document.head.appendChild(e)},submitForm:function(n,e,t,a){var r=new FormData(n),i={};if("multipart/form-data"!=n.enctype){var s,c=o(r.entries());try{for(c.s();!(s=c.n()).done;){var u=s.value;i[u[0]]=u[1]}}catch(n){c.e(n)}finally{c.f()}}else i=r;l.ajaxReq({type:"post",url:e,content:i,headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){t(n)},onerror:function(n){a(n)}})}},p={token:localStorage.getItem("wa-authToken"),username:localStorage.getItem("wa-username"),logout:function(){localStorage.removeItem("wa-authToken"),localStorage.removeItem("wa-username"),window.location.href=config.adminUrl+"/login"}},u=function(n){c("app-body").innerHTML=n},d={listeners:[],on:function(n,e,t){d.listeners.push({target:e,evt:n,handler:t}),e.addEventListener(n,d.listeners[d.listeners.length-1].handler);var a=d.listeners.length-1;return{remove:function(){d.remove(a)}}},remove:function(n){var e=d.listeners[n];e.target.removeEventListener(e.evt,e.handler),d.listeners.splice(n,1)},removeAll:function(){for(var n=0;n<d.listeners.length;n++)d.remove(n)}};r.hooks({before:function(n,e){d.removeAll(),n()}});var h=t(1),f=t.n(h),_=t(2),v=t.n(_);r.on("/",(function(){u(v()()),l.ajaxReq({url:config.apiUrl+"/system/status",type:"get",content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){u(f()({siteHealth:n}))},onerror:function(n){}})}));var m=function(n,e){alert(e)},g=function(n,e,t){t(confirm(e))},y={open:function(n){l._("sidebar").style.transform="translateX(0)",l._("fade").style.visibility="visible",l._("fade").style.backgroundColor="#00000030",l._("fade").onclick=y.close,l._("sidebar").addEventListener("click",(function(n){-1!=n.target.className.indexOf("item")&&y.close()}))},close:function(n){l._("sidebar").style.transform="translateX(-100%)",l._("fade").style.backgroundColor="transparent",setTimeout((function(){l._("fade").style.visibility="hidden"}),200),l._("fade").onclick=void 0}};l._("UI.MenuButton").onclick=function(n){y.open(n.currentTarget)};var b=t(3),w=t.n(b),L=t(4),T=t.n(L);r.on("/collections",(function(){u(T()()),l.ajaxReq({type:"get",url:window.config.apiUrl+"/data/getCollections",content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){n=JSON.parse(n);var e=JSON.parse(n.collections);l.loadCSS("/assets/jsoneditor/dist/jsoneditor.min.css"),l.loadScript("/assets/jsoneditor/dist/jsoneditor-minimalist.min.js",(function(){u(w()({label:"Collections"}));var n=l._("editor");window.editor=new JSONEditor(n),window.editor.set(e.collections),l._("saveBtn").onclick=function(n){var e=n.currentTarget,t=JSON.stringify(window.editor.get()),a=e.innerHTML;e.innerHTML="<span class='fa fa-spin fa-sync'></span> Saving changes...",e.classList.add("disabled"),l.ajaxReq({type:"post",url:window.config.apiUrl+"/data/setCollections",content:{collections:t},headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){m(0,"Saved changes successfully"),e.innerHTML=a,e.classList.remove("disabled")},onerror:function(n){m(0,"Failed to edit collections: "+n)}})}}))},onerror:function(n){m(0,"Failed to fetch collections: "+n)}})}));var E=t(5),H=t.n(E),M=t(6),k=t.n(M);r.on("/editPost/:id",(function(n){var e=n.data;u(k()()),l.ajaxReq({type:"post",url:window.config.apiUrl+"/admin/getPosts?id="+e.id,content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){n=JSON.parse(n);var e=JSON.parse(n.posts)[0];l.loadScript("/assets/tinymce/js/tinymce/tinymce.min.js",(function(){u(H()({post:e,adminUrl:window.config.adminUrl,siteRoot:window.config.websiteUrl})),window.tinyMCE.init({selector:"textarea#postBodyEditor",height:500,plugins:["advlist autolink link image lists charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","table emoticons template paste help"],toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons | help"}),l._("post-btn").onclick=function(n){window.tinymce.triggerSave(!0,!0);var e=n.currentTarget.innerHTML,t=n.currentTarget;t.innerHTML="<span class='fa fa-spin fa-circle-notch'></span> Updating Post...",t.classList.add("disabled"),l.submitForm(l._("cp-form"),window.config.apiUrl+"/admin/editPost",(function(n){t.innerHTML=e,t.classList.remove("disabled"),m(0,"Post updated successfully")}),(function(n){t.innerHTML=e,t.classList.remove("disabled"),m(0,"An error occured: "+n)}))},l._("permalink-inp").oninput=function(){var n=l._("permalink-inp").value;n=encodeURIComponent(n.replace(/\s+/g,"-").toLowerCase()),l._("permalink-value").value=n,l._("permalink-preview").innerHTML=n}}),(function(n){m(0,"An error occured: "+n)}))},onerror:function(n){m(0,"Failed to fetch post: "+n)}})}));t(15);r.on("/deletePost/:id",(function(n){var e=n.data;g(0,"Are you sure you want to delete Post with ID "+e.id,(function(n){!0===n?l.ajaxReq({type:"post",url:window.config.apiUrl+"/admin/deletePost",content:{id:e.id},headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){n=JSON.parse(n),m(0,"Post was deleted successfully"),window.history.length>2?window.history.back():r.navigate("/")},onerror:function(n){m(0,"Failed to fetch posts: "+n),window.history.length>2?window.history.back():r.navigate("/")}}):window.history.length>2?window.history.back():r.navigate("/")}))}));var S=t(7),F=t.n(S),O=t(8),C=t.n(O);r.on("/managePosts",(function(){u(C()()),l.ajaxReq({type:"post",url:window.config.apiUrl+"/admin/getPosts",content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){n=JSON.parse(n);var e=JSON.parse(n.posts);u(F()({posts:e,adminUrl:window.config.adminUrl}))},onerror:function(n){m(0,"Failed to fetch posts: "+n)}})}));var A=t(9),R=t.n(A),U=t(10),x=t.n(U);r.on("/createPost",(function(){u(x()()),l.loadScript("/assets/tinymce/js/tinymce/tinymce.min.js",(function(){u(R()({siteRoot:window.config.websiteUrl})),window.tinyMCE.init({selector:"textarea#postBodyEditor",height:500,plugins:["advlist autolink link image lists charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","table emoticons template paste help"],toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons | help"}),l._("post-btn").onclick=function(n){window.tinymce.triggerSave(!0,!0);var e=n.currentTarget.innerHTML,t=n.currentTarget;t.innerHTML="<span class='fa fa-spin fa-circle-notch'></span> Posting...",t.classList.add("disabled"),l.submitForm(l._("cp-form"),window.config.apiUrl+"/admin/createPost",(function(n){t.innerHTML=e,t.classList.remove("disabled"),l._("cp-form").reset(),m(0,"Post published successfully")}),(function(n){t.innerHTML=e,t.classList.remove("disabled"),m(0,"An error occured: "+n)}))},l._("permalink-inp").oninput=function(){var n=l._("permalink-inp").value;n=encodeURIComponent(n.replace(/\s+/g,"-").toLowerCase()),l._("permalink-value").value=n,l._("permalink-preview").innerHTML=n}}),(function(n){m(0,"An error occured: "+n)}))}));var P=t(11),D=t.n(P),N=t(12),j=t.n(N);r.on("/gallery",(function(n){n.data;var e=n.params;n.queryString;u(j()());var t="/";e&&e.route&&(t=decodeURIComponent(e.route));var a,o,i=t.split("/");i.pop(),i.shift(),a=t,o=function(n){for(var e=[],a=0;a<=n.length-1;a++)n[a].dir&&1==n[a].dir&&(e.push(n.splice(a,1)),a--);u(D()({files:n,folders:e,siteRoot:window.config.websiteUrl,route:t,routes:i}))},l.ajaxReq({type:"get",url:window.config.apiUrl+"/gallery/getImages",content:"path="+a,headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){n=JSON.parse(n),o(JSON.parse(n.images))},onerror:function(n){m(0,"Failed to fetch media gallery: "+n)}}),d.on("click",window,(function(n){if(-1!=n.target.className.indexOf("deleteImageBtn")){var e=n.target.getAttribute("data-filename");g(0,'Are you sure about deleting "'+e+'"?',(function(n){1==n&&l.ajaxReq({type:"post",url:window.config.apiUrl+"/admin/deleteFile",content:{path:"./site/static/images/uploads"+t+e},headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){m(0,"Deleted file successfully"),r.reload()},onerror:function(n){m(0,"Failed to delete the file: "+n)}})}))}if("imageUploadBtn"===n.target.id){var a=n.target.innerHTML;n.target.classList.add("disabled"),n.target.innerHTML="<span class='fa fa-spin fa-circle-notch'></span> Uploading image...",l._("imageUploadPath").value="/images/uploads"+t.substring(0,t.length-1),l.submitForm(l._("uploadImageForm"),window.config.apiUrl+"/admin/uploadImage",(function(e){n.target.classList.remove("disabled"),n.target.innerHTML=a,m(0,"Uploaded image successfully"),r.reload()}),(function(e){m(0,"Failed to upload image: "+e),n.target.classList.remove("disabled"),n.target.innerHTML=a}))}}))}));var I=t(13),B=t.n(I),q=t(14),z=t.n(q);r.on("/system/update",(function(){u(z()()),l.ajaxReq({type:"get",url:window.config.apiUrl+"/admin/checkUpdates",content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){n=JSON.parse(n),u(B()({update:n,localVersion:config.localVersion})),l._("update-btn").onclick=function(n){var e=n.currentTarget,t=e.innerHTML;e.innerHTML="<span class='fa fa-spin fa-sync'></span> Installing updates...",e.classList.add("disabled"),l.ajaxReq({type:"get",url:config.apiUrl+"/admin/update",content:"",headers:[{header:"Authorization",content:"Basic "+p.token}],onload:function(n){e.innerHTML="<span class='fa fa-check'></span> Restarting...",setTimeout(window.location.reload.bind(window.location),5e3)},onerror:function(n){m(0,"Failed to install updates "+n),e.innerHTML=t,e.classList.remove("disabled")}})}},onerror:function(n){m(0,"Failed to check for updates: "+n)}})})),r.resolve()}]);